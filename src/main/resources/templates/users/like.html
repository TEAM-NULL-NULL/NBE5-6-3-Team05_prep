<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultrag.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">


<body>


<div layout:fragment="content">
  <h3>좋아요 목록</h3>

  <div>
    <button class="mypage-btn" onclick="loadTab('books')">
      도서
    </button>
    <button class="mypage-btn" onclick="loadTab('movies')">
      영화
    </button>
    <button class="mypage-btn" onclick="loadTab('musics')">
      음악
    </button>


  </div>
  <div id="books" class="like-item">
    <h2>도서</h2>
    <div th:each="book : ${likedbooks}">
      <h3 th:text="${book.title}"></h3>
      <h3 th:text="${book.isbn}"></h3>
      <img th:src="${book.image}" class="image">
      <p th:text="${book.author}"></p>
      <p th:text="${book.publisher}"></p>
      <p th:text="${book.publishedDate}"></p>
      <p th:text="${book.genre}"></p>
      <p th:text="${book.description}"></p>


    </div>
  </div>
  <div id="movies" class="like-item">
    <h2>영화</h2>
    <div th:each="movie : ${likedmovies}">
      <h3 th:text="${movie.title}"></h3>

      <p th:text="${movie.description}"></p>
      <ul>
        <li th:each="genre : ${movie.genres}" th:text="${genre.name}"></li>
      </ul>
      <p th:text="${movie.releaseDate}"></p>
      <img th:src="${movie.thumbnail}" class="image">

    </div>
  </div>
  <div id="musics" class="like-item">
    <h2>음악</h2>
    <div th:each="music : ${likedmusics}">
      <h3 th:text="${music.title}"></h3>
      <img th:src="${music.thumbnail}" class="image">
      <p th:text="${music.singer}"></p>
      <p th:text="${music.genre}"></p>
      <p th:text="${music.description}"></p>
      <p th:text="${music.lyrics}"></p>
      <p th:text="${music.releaseDate}"></p>

    </div>
  </div>


  <script>

    function loadTab(tabName) {

      const tabItems = document.querySelectorAll('.like-item');
      tabItems.forEach(item => item.style.display = 'none');

      const selectedTab = document.getElementById(tabName);
      selectedTab.style.display = 'block';
    }

    document.addEventListener("DOMContentLoaded", function () {
      loadTab('books');
    });
  </script>


</div>

</body>
</html>